{"version":3,"file":"ionic-angular-server.mjs","sources":["../../src/ionic-server-module.ts","../../src/ionic-angular-server.ts"],"sourcesContent":["import { DOCUMENT } from '@angular/common';\nimport { APP_ID, NgModule } from '@angular/core';\nimport { BEFORE_APP_SERIALIZED } from '@angular/platform-server';\nimport { hydrateDocument } from '@ionic/core/hydrate';\n\n// @dynamic\n@NgModule({\n  providers: [\n    {\n      provide: BEFORE_APP_SERIALIZED,\n      useFactory: hydrateIonicComponents,\n      multi: true,\n      deps: [DOCUMENT, APP_ID],\n    },\n  ],\n})\nexport class IonicServerModule {}\n\n// @dynamic\nexport function hydrateIonicComponents(doc: any, appId: any) {\n  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n  return () => {\n    return hydrateDocument(doc, {\n      clientHydrateAnnotations: false,\n      excludeComponents: [\n        // overlays\n        'ion-action-sheet',\n        'ion-alert',\n        'ion-loading',\n        'ion-modal',\n        'ion-picker-legacy',\n        'ion-popover',\n        'ion-toast',\n        'ion-toast',\n\n        // navigation\n        'ion-router',\n        'ion-route',\n        'ion-route-redirect',\n        'ion-router-link',\n        'ion-router-outlet',\n\n        // tabs\n        'ion-tabs',\n        'ion-tab',\n\n        // auxiliar\n        'ion-picker-legacy-column',\n      ],\n    }).then((hydrateResults) => {\n      hydrateResults.diagnostics.forEach((d) => {\n        if (d.type === 'error') {\n          console.error(d.messageText);\n        } else if (d.type === 'debug') {\n          console.debug(d.messageText);\n        } else {\n          console.log(d.messageText);\n        }\n      });\n\n      if (doc.head != null) {\n        const styleElms = doc.head.querySelectorAll('style[data-styles]') as NodeListOf<HTMLStyleElement>;\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < styleElms.length; i++) {\n          styleElms[i].setAttribute('ng-transition', appId);\n        }\n      }\n\n      if (doc.body != null) {\n        const ionPages = doc.body.querySelectorAll('.ion-page.ion-page-invisible') as NodeListOf<HTMLElement>;\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < ionPages.length; i++) {\n          ionPages[i].classList.remove('ion-page-invisible');\n        }\n      }\n    });\n  };\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;;;AAKA;MAWa,iBAAiB,CAAA;2HAAjB,iBAAiB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;4HAAjB,iBAAiB,EAAA,CAAA,CAAA;AAAjB,uBAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,iBAAiB,EATjB,SAAA,EAAA;AACT,YAAA;AACE,gBAAA,OAAO,EAAE,qBAAqB;AAC9B,gBAAA,UAAU,EAAE,sBAAsB;AAClC,gBAAA,KAAK,EAAE,IAAI;AACX,gBAAA,IAAI,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,aAAA;AACF,SAAA,EAAA,CAAA,CAAA;;4FAEU,iBAAiB,EAAA,UAAA,EAAA,CAAA;kBAV7B,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACR,oBAAA,SAAS,EAAE;AACT,wBAAA;AACE,4BAAA,OAAO,EAAE,qBAAqB;AAC9B,4BAAA,UAAU,EAAE,sBAAsB;AAClC,4BAAA,KAAK,EAAE,IAAI;AACX,4BAAA,IAAI,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,yBAAA;AACF,qBAAA;AACF,iBAAA,CAAA;;AAGD;AACgB,SAAA,sBAAsB,CAAC,GAAQ,EAAE,KAAU,EAAA;;AAEzD,IAAA,OAAO,MAAK;QACV,OAAO,eAAe,CAAC,GAAG,EAAE;AAC1B,YAAA,wBAAwB,EAAE,KAAK;AAC/B,YAAA,iBAAiB,EAAE;;gBAEjB,kBAAkB;gBAClB,WAAW;gBACX,aAAa;gBACb,WAAW;gBACX,mBAAmB;gBACnB,aAAa;gBACb,WAAW;gBACX,WAAW;;gBAGX,YAAY;gBACZ,WAAW;gBACX,oBAAoB;gBACpB,iBAAiB;gBACjB,mBAAmB;;gBAGnB,UAAU;gBACV,SAAS;;gBAGT,0BAA0B;AAC3B,aAAA;AACF,SAAA,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,KAAI;YACzB,cAAc,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,KAAI;AACvC,gBAAA,IAAI,CAAC,CAAC,IAAI,KAAK,OAAO,EAAE;AACtB,oBAAA,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;AAC9B,iBAAA;AAAM,qBAAA,IAAI,CAAC,CAAC,IAAI,KAAK,OAAO,EAAE;AAC7B,oBAAA,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;AAC9B,iBAAA;AAAM,qBAAA;AACL,oBAAA,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;AAC5B,iBAAA;AACH,aAAC,CAAC,CAAC;AAEH,YAAA,IAAI,GAAG,CAAC,IAAI,IAAI,IAAI,EAAE;gBACpB,MAAM,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,CAAiC,CAAC;;AAElG,gBAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACzC,SAAS,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;AACnD,iBAAA;AACF,aAAA;AAED,YAAA,IAAI,GAAG,CAAC,IAAI,IAAI,IAAI,EAAE;gBACpB,MAAM,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,8BAA8B,CAA4B,CAAC;;AAEtG,gBAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACxC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;AACpD,iBAAA;AACF,aAAA;AACH,SAAC,CAAC,CAAC;AACL,KAAC,CAAC;AACJ;;AC7EA;;AAEG;;;;"}